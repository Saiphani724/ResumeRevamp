# job_details_json = {
#   "Job Title": "Machine Learning Engineer",
#   "Job Description": "This engineer will be training and testing Machine Learning implementations to improve classification and performance of the sonar system, integrate it into Navy prototypes and ensure that the Navy operator can understand and utilize the information presented. Understanding of signal processing is preferred.",
#   "Prerequisites": "Skills: machine learning, artificial intelligence, ai, signal processing, python, pytorch, acoustics, tensorflow",
#   "Preferred Qualifications": "Acoustics and signal processing Experience with Python or Pytorch or tensorflow",
#   "Others": "Experience Level: Intermediate Level\n\nDiversity, Equity & Inclusion\n\nAt Actalent, Diversity And Inclusion Are a Bridge Towards The Equity And Success Of Our People. DE&I Are Embedded Into Our Culture Through\n\nHiring diverse talent\nMaintaining an inclusive environment through persistent self-reflection\nBuilding a culture of care, engagement, and recognition with clear outcomes\nEnsuring growth opportunities for our people\n\nActalent is an equal opportunity employer.\n\nAbout Actalent\n\nActalent connects passion with purpose. We help visionary companies advance their engineering and science initiatives through access to specialized experts that drive scale, innovation, and speed to market. With a network of almost 30,000 engineering and sciences consultants and more than 4,500 clients across the U.S., Canada, Asia, and Europe, Actalent serves many of the Fortune 500. An operating company of Allegis Group, the global leader in talent solutions, Actalent launched as a new specialized engineering and sciences services and workforce solutions brand in 2021."
# }

# resume_json = {
#   "personal_details": {
#     "name": "Sai Phani Pallapothu",
#     "location": "Reston, Virginia, United States",
#     "phone": "+1-934-221-8554",
#     "email": "saiphani724@gmail.com",
#     "LinkedIn": "linkedin.com/in/sai-phani-p",
#     "GitHub": "github.com/Saiphani724"
#   },
#   "education": [
#     {
#       "school/university": "Stony Brook University",
#       "duration_years": "August 2022 - December 2023",
#       "GPA": "3.84/4",
#       "courses": "Teaching Assistant for CSE 337: Scripting Languages; Ranked #24/78 @ ICPC Greater NY Regionals 2022"
#     },
#     {
#       "school/university": "Amrita School of Engineering",
#       "duration_years": "June 2017 - June 2021",
#       "GPA": "9.1/10 with Distinction",
#       "courses": ""
#     }
#   ],
#   "experience": [
#     {
#       "company_name": "Lean Innovation Labs",
#       "duration": "May 2023 - Present",
#       "summary": "Full Stack Developer Intern\nDeveloping an LLM (like GPT) based tool that builds a management portal for a company using AI; it creates workflows, custom databases, and management views following specific business rules, all from requirements given in plain English."
#     },
#     {
#       "company_name": "Microsoft",
#       "duration": "July 2021 - August 2022",
#       "summary": "Software Development Engineer\nBuilt a chatbot called “AutoOps Bot”, which allows the users to complete mundane tasks like managing Azure services effortlessly via Teams app, which saves around 40 hours/month of team effort.\nAutomated data Inbounding and Outbounding process from Workday to Microsoft’s SQL Db, and vice versa.\nDesigned, developed and maintained tools for Microsoft’s finance forecasting and budgeting management."
#     },
#     {
#       "company_name": "Microsoft",
#       "duration": "Jan 2021 - June 2021",
#       "summary": "Software Development Engineer Intern\nDesigned and implemented Reuse Dictionary project - a React, TypeScript, .NET based tool for sharing any reusable work done within Microsoft organization and also allows searching for works published across multiple sites like GitHub, nugget repository, Azure DevOps, etc., from a single place."
#     },
#     {
#       "company_name": "Microsoft",
#       "duration": "May 2020 - July 2020",
#       "summary": "Software Development Engineer Intern\nBuilt Feedback Engine (on Microsoft’s Procurement Website), a tool that extracts user activity data as feedback using Azure Application Insights and improves the search results based on users’ actions."
#     }
#   ],
#   "projects": [
#     {
#       "title": "CodeOnDroid",
#       "duration": "August 2019",
#       "summary": "A mobile “Compiler and Editor” Android application with language-specific custom keyboards for popular programming languages like Python, Java, C++ and C along with variable tracking, etc features for programming with ease."
#     },
#     {
#       "title": "Quiz App",
#       "duration": "March 2020",
#       "summary": "An online Quiz Application platform for students to attempt quizzes created by their faculty while also making use of features like auto evaluation, scorecard viewer, online discussion portal, previous quiz analysis etc."
#     },
#     {
#       "title": "Weighted Ensemble of CNNs to handle loss due to resizing for Object Recognition",
#       "duration": "December 2020",
#       "summary": "A model that uses multiple CNNs of different shapes (portrait, square and landscape) instead of a single CNN for Object Recognition problems, and takes the weighted average of multiple CNN outputs for calculating final class probability."
#     },
#     {
#       "title": "Real-time Object Detection and Segmentation using Raspberry Pi",
#       "duration": "June 2020",
#       "summary": "A robust system for detection and segmentation of microcontroller components using deep learning and computer vision, deployed in Raspberry Pi."
#     },
#     {
#       "title": "Bug Fixing Assistance Portal",
#       "duration": "January 2021",
#       "summary": "A portal to connect users and technical support in order to update users on bugs that need to be addressed and solved."
#     },
#     {
#       "title": "PASTA Inference Classification",
#       "duration": "November 2022",
#       "summary": "A model to classify if the given story warrants the given inference statement. Models are trained to understand the world state for the given story to predict whether the world state is consistent with the inference statement."
#     },
#     {
#       "title": "Shadow Removal using Diffusion",
#       "duration": "December 2022",
#       "summary": "A deep learning model that removes the shadow in an image and restores the image contents using Diffusion technique."
#     },
#     {
#       "title": "RoverArm",
#       "duration": "May 2023",
#       "summary": "Built a Rover with Robotic Arm and trained it using Reinforcement Learning and Generative AI to pick objects from a tray inside a room."
#     }
#   ],
#   "technical_skills": {
#     "languages": [
#       "JavaScript",
#       "TypeScript",
#       "Python",
#       "Java",
#       "C#",
#       "SQL",
#       "MongoDB",
#       "HTML",
#       "CSS",
#       "C",
#       "C++",
#       "MatLab",
#       ".NET"
#     ],
#     "frameworks": [
#       "ReactJS",
#       "ExpressJS",
#       "NodeJS",
#       "NestJs",
#       ".NET",
#       "Flask",
#       "Django",
#       "Microsoft Bot Framework",
#       "PyTorch",
#       "TensorFlow",
#       "Keras",
#       "OpenCV",
#       "Scikit-learn",
#       "SciPy",
#       "Pandas",
#       "NumPy"
#     ],
#     "tools": [],
#     "databases": []
#   },
#   "course_work": [],
#   "extra_curriculars": {
#     "summary": [
#       "Senior Member of Code@Amrita June 2018 - July 2021\nConducted Workshops teaching Data Structures, Algorithms, and programming languages (Python, Java, C++).\nHosted Competitive Programming contests, and Editorial sessions for our and Codechef contests.",
#       "Event Lead and Manager @ Anokha, Amrita’s techfest February 2020\nDesigned and hosted a Kaggle contest named “AI Adept” that involves solving a complex machine learning problem with a small dataset in a limited time.\nDesigned and hosted a competition named “Figure ’em all” that involves teams solving problems from various expertise of Computer Science like competitive programming, code golf, capture the flag, and reverse engineering."
#     ]
#   },
#   "others": {
#     "Summary": [
#       "Developing an LLM (like GPT) based tool that builds a management portal for a company using AI; it creates workflows, custom databases, and management views following specific business rules, all from requirements given in plain English.",
#       "Built a chatbot called “AutoOps Bot”, which allows the users to complete mundane tasks like managing Azure services effortlessly via Teams app, which saves around 40 hours/month of team effort.\nAutomated data Inbounding and Outbounding process from Workday to Microsoft’s SQL Db, and vice versa.\nDesigned, developed and maintained tools for Microsoft’s finance forecasting and budgeting management.",
#       "Designed and implemented Reuse Dictionary project - a React, TypeScript, .NET based tool for sharing any reusable work done within Microsoft organization and also allows searching for works published across multiple sites like GitHub, nugget repository, Azure DevOps, etc., from a single place.",
#       "Built Feedback Engine (on Microsoft’s Procurement Website), a tool that extracts user activity data as feedback using Azure Application Insights and improves the search results based on users’ actions."
#     ]
#   }
# }

assistant_instructions = """
You are a resume maker.

- Never add extra information to the resume details.
        - Try to optimize the resume according to the job_details.
        - Don't reduce the number of experiences if at all you want to shorten something try to reduce the summary part for the experiences you feel less important with respect to the job.
        - If there are too many sections in project, include only the projects that are relevant to the job_details.
        - summary of the "projects" should be optimised according to the prerequisites and preferred qualifications from job_details.
        - Try to keep as many projects as possible always try to change the summary of the projects according to the job_details by cutting short the summary and also remove few projects in some cases if you feel it's irrelevant.
        - Cutting short summary of the projects is the most important thing and don't cut them too short if it's too long like more than 55 words try to cut them short to 40-50 words and follow that ratio and only cut words if it's absolutely necessary.
        - Organise "technical_skills" with respect to job_details.
        - Organise "course_work" with respect to job_details and don't add new courses other than which are present in the resume_json and keep as many as possible even if they don't match with the job_details.

generate proper latex resume using the given json resume.
        Don't skip anything that is present in the json resume.
        Keep it as compact as possible. Try to fit everything in one page. 
        Use the space wisely. Adjust the font size and margins accordingly. 
        If the content is too long for a single page use reduce the font size and margins, but make sure that the content is readable.
        No overlaps should be there in the resume. 
        Do not add any comments in the start or end or anywhere in the latex resume.
        Compiling that should give a proper pdf.
        give the output latex as a string. DO NOT ADD ANY quotes or text in the start or end of the latex resume.
The final output should be ONLY LATEX and NOTHING ELSE.

Final Output Format:

```latex
SINGLE PAGE LATEX RESUME
```

"""